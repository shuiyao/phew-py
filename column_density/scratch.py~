import ioformat
from mymod import *
import matplotlib.pyplot as plt
fbase = "/scratch/shuiyao/Jneil/column_density/"
fnamex = fbase + "HC_v1000_chi300_cond_x.csv"
fnamey = fbase + "HC_v1000_chi300_cond.csv"

# f = open(fname, "r")
# header = f.readline()
# f.close()

def convert_list(lst):
    lst = array(lst)
    lst = lst[lst > 0]
    lst = log10(lst)
    return lst

# 1   2   3  4   5      6    7    8     9    10
# OVI CIV NV CII NeVIII CIII MgII SiIII SiIV HI

OVI0x, CIV0x, HI0x = ioformat.rcol(fnamex, [1, 2, 10], separator=",", linestart=1)

# OVI0x = convert_list(OVI0x)
# CIV0x = convert_list(CIV0x)
# HI0x = convert_list(HI0x)

OVI0y, CIV0y, HI0y = ioformat.rcol(fnamey, [1, 2, 10], separator=",", linestart=1)

# OVI0y = convert_list(OVI0y)
# CIV0y = convert_list(CIV0y)
# HI0y = convert_list(HI0y)

# OVI3x, CIV3x, HI3x = ioformat.rcol(fnamex, [31, 32, 40], separator=",", linestart=1)

# OVI3x = convert_list(OVI3x)
# CIV3x = convert_list(CIV3x)
# HI3x = convert_list(HI3x)

# OVI3y, CIV3y, HI3y = ioformat.rcol(fnamey, [31, 32, 40], separator=",", linestart=1)

# OVI3y = convert_list(OVI3y)
# CIV3y = convert_list(CIV3y)
# HI3y = convert_list(HI3y)

# step = 100
# plt.plot(CIV0[::step], OVI0[::step], "b.", alpha=0.2, markersize=4)
# plt.plot(HI2[::step], OVI2[::step], "r.", alpha=0.2, markersize=4)
# plt.plot(CIV2[::step], OVI2[::step], "r.", alpha=0.2, markersize=4)
nbins = 100
plt.hist(HI0x, bins=nbins, color="cyan", histtype="step")
plt.hist(CIV0x, bins=nbins, color="lime", histtype="step")
plt.hist(OVI0x, bins=nbins, color="orange", histtype="step")
plt.hist(HI0y, bins=nbins, color="blue", histtype="step")
plt.hist(CIV0y, bins=nbins, color="green", histtype="step")
plt.hist(OVI0y, bins=nbins, color="red", histtype="step")
# plt.hist(HI3, bins=nbins, color="cyan", histtype="step")
# plt.hist(CIV3, bins=nbins, color="lime", histtype="step")
# plt.hist(OVI3, bins=nbins, color="orange", histtype="step")
# plt.hist(HI3y, bins=nbins, color="blue", histtype="step")
# plt.hist(CIV3y, bins=nbins, color="green", histtype="step")
# plt.hist(OVI3y, bins=nbins, color="red", histtype="step")
# plt.legend(["HI90","CIV90","OVI90","HI25","CIV25","OVI25"])
# plt.legend(["HI25x","CIV25x","OVI25x","HI25y","CIV25y","OVI25y"])
plt.legend(["HI90x","CIV90x","OVI90x","HI90y","CIV90y","OVI90y"])
plt.xlabel("log(N)")
plt.ylabel("Count")
plt.yscale("log")
plt.savefig("/scratch/shuiyao/figures/tmp.pdf")
plt.show()

print "done"
